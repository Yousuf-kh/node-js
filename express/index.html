<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Write your NAME</h1>
    <form action="">
        <input type="text" placeholder="Write your name" name="name" required>
        <button type="submit" >OK</button>
    </form>


    <script>
        const form = document.querySelector('form')

        form.addEventListener('submit', async(e)=>{
        e.preventDefault()

        const inputValue = form.elements['name'].value;

            try{
                const res = await fetch('http://localhost:4200/users',
                    {
                        method: 'POST',
                        headers:{
                            'Content-Type': "application/json"
                        },
                        body: JSON.stringify({name: inputValue}), 
                    }
                 )

                const data = await res.json() 
                

                form.elements['name'].value = ""

                alert(data.message)
            }catch(error){
                alert(error)
            }




        })

    </script>
</body>
</html>